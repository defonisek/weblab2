import"./main-Cr4PqIHb.js";import"./main-C4Is50pF.js";function l(t){const s=t.getFullYear().toString().padStart(4,"0"),n=(t.getMonth()+1).toString().padStart(2,"0"),e=t.getDate().toString().padStart(2,"0");return`${s}${n}${e}`}const i=document.getElementById("dateInput"),d=document.getElementById("checkHolidayBtn"),o=document.getElementById("resultSection"),u=new Date;i.valueAsDate=u;d.addEventListener("click",async()=>{const t=i.valueAsDate;if(!t){o.innerHTML='<p class="error">Пожалуйста, выберите дату.</p>';return}const n=`https://isdayoff.ru/${l(t)}?cc=ru&pre=1`;try{o.innerHTML="<p>Загрузка...</p>";const e=await fetch(n);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const c=await e.text();let r="",a="result";switch(c){case"0":r=`День ${t.toLocaleDateString("ru-RU")} является <strong>рабочим</strong>.`,a+=" work-day";break;case"1":r=`День ${t.toLocaleDateString("ru-RU")} является <strong>нерабочим</strong> (выходной).`,a+=" off-day";break;case"2":r=`День ${t.toLocaleDateString("ru-RU")} является <strong>предпраздничным</strong> (сокращённый рабочий день).`,a+=" pre-holiday";break;case"100":r="Ошибка в формате даты.",a+=" error";break;case"101":r="Данные для указанной даты не найдены.",a+=" error";break;default:r=`Неизвестный статус: ${c}`,a+=" error"}o.innerHTML=`<p class="${a}">${r}</p>`}catch(e){console.error("Ошибка при получении данных:",e),o.innerHTML=`<p class="error">Произошла ошибка при запросе к API: ${e.message}</p>`}});
