import"./main-Cr4PqIHb.js";const d="atergerpe";async function o(){i(!0),c();try{const e=`https://api.europeana.eu/record/v2/search.json?wskey=${d}&query=*&qf=TYPE:IMAGE&media=true&theme=art&sort=random&rows=1&profile=rich`,t=await fetch(e);if(!t.ok)throw new Error(`Ошибка API: ${t.status}`);const n=await t.json();n.items&&n.items.length>0?a(n.items[0]):s("Не удалось найти картины")}catch(e){console.error("Ошибка:",e),s(`Произошла ошибка: ${e.message}`)}finally{i(!1)}}function a(e){const t=document.getElementById("paintingGallery"),n=document.createElement("div");n.className="painting-container";let r="";e.edmPreview&&e.edmPreview[0]?r+=`<img src="${e.edmPreview[0]}" alt="${e.title?e.title[0]:"Картина"}" class="painting-image">`:r+="<p>Изображение недоступно</p>",e.title&&e.title[0]&&(r+=`<div class="painting-title">${e.title[0]}</div>`),e.dcDescription&&e.dcDescription[0]&&(r+=`<div class="painting-description">${e.dcDescription[0]}</div>`),e.dataProvider&&e.dataProvider[0]&&(r+=`<div class="painting-source">Источник: ${e.dataProvider[0]}</div>`),r+='<hr class="separator">',n.innerHTML=r,t.insertBefore(n,t.firstChild)}function l(){document.getElementById("paintingGallery").innerHTML=""}function i(e){document.getElementById("loadingMessage").style.display=e?"block":"none",document.getElementById("loadButton").disabled=e}function s(e){const t=document.getElementById("errorMessage");t.textContent=e,t.style.display="block"}function c(){document.getElementById("errorMessage").style.display="none"}document.addEventListener("DOMContentLoaded",function(){document.getElementById("loadButton").addEventListener("click",o),document.getElementById("clearButton").addEventListener("click",l),setTimeout(o,500)});
