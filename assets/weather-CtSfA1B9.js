import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css             */document.addEventListener("DOMContentLoaded",function(){const p=document.getElementById("weather-form"),c=document.getElementById("city-input"),r=document.getElementById("search-btn"),d=document.getElementById("loading-spinner"),a=document.getElementById("weather-result"),u=document.getElementById("error-message"),h=document.getElementById("city-name"),y=document.getElementById("location-details"),g=document.getElementById("temperature"),w=document.getElementById("weather-icon"),f=document.getElementById("weather-description"),E=document.getElementById("feels-like"),v=document.getElementById("humidity"),I=document.getElementById("wind-speed");document.getElementById("pressure");const B=document.querySelectorAll(".city-btn");function l(t){t?(r.disabled=!0,d.classList.add("active"),r.querySelector("span").style.visibility="hidden"):(r.disabled=!1,d.classList.remove("active"),r.querySelector("span").style.visibility="visible")}function s(){a.classList.add("hidden"),u.classList.add("hidden")}async function _(t){const e=`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(t)}&count=1&language=ru&format=json`;try{const o=await(await fetch(e)).json();if(o.results&&o.results.length>0){const i=o.results[0];return{latitude:i.latitude,longitude:i.longitude,name:i.name,country:i.country,admin1:i.admin1}}else throw new Error("Ð“Ð¾Ñ€Ð¾Ð´ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½")}catch(n){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ð¸ ÐºÐ¾Ð¾Ñ€Ð´Ð¸Ð½Ð°Ñ‚:",n),n}}async function C(t,e){const n=`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${e}&current_weather=true&hourly=temperature_2m,relative_humidity_2m,apparent_temperature,wind_speed_10m,wind_direction_10m&temperature_unit=celsius&wind_speed_unit=kmh&timezone=auto&forecast_days=1`;try{return await(await fetch(n)).json()}catch(o){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ð¸ Ð¿Ð¾Ð³Ð¾Ð´Ñ‹:",o),o}}function L(t){return{0:{description:"Ð¯ÑÐ½Ð¾",icon:"â˜€ï¸"},1:{description:"ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²ÐµÐ½Ð½Ð¾ ÑÑÐ½Ð¾",icon:"ðŸŒ¤ï¸"},2:{description:"ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ð°Ñ Ð¾Ð±Ð»Ð°Ñ‡Ð½Ð¾ÑÑ‚ÑŒ",icon:"â›…"},3:{description:"ÐŸÐ°ÑÐ¼ÑƒÑ€Ð½Ð¾",icon:"â˜ï¸"},45:{description:"Ð¢ÑƒÐ¼Ð°Ð½",icon:"ðŸŒ«ï¸"},48:{description:"Ð˜Ð·Ð¼Ð¾Ñ€Ð¾Ð·ÑŒ",icon:"ðŸŒ«ï¸"},51:{description:"Ð›ÐµÐ½ÑÑ Ð¼Ð¾Ñ€Ð¾ÑÑŒ",icon:"ðŸŒ§ï¸"},53:{description:"Ð£Ð¼ÐµÑ€ÐµÐ½Ð½Ð°Ñ Ð¼Ð¾Ñ€Ð¾ÑÑŒ",icon:"ðŸŒ§ï¸"},55:{description:"Ð¡Ð¸Ð»ÑŒÐ½Ð°Ñ Ð¼Ð¾Ñ€Ð¾ÑÑŒ",icon:"ðŸŒ§ï¸"},61:{description:"ÐÐµÐ±Ð¾Ð»ÑŒÑˆÐ¾Ð¹ Ð´Ð¾Ð¶Ð´ÑŒ",icon:"ðŸŒ§ï¸"},63:{description:"Ð£Ð¼ÐµÑ€ÐµÐ½Ð½Ñ‹Ð¹ Ð´Ð¾Ð¶Ð´ÑŒ",icon:"ðŸŒ§ï¸"},65:{description:"Ð¡Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð´Ð¾Ð¶Ð´ÑŒ",icon:"ðŸŒ§ï¸"},80:{description:"Ð›Ð¸Ð²ÐµÐ½ÑŒ",icon:"â›ˆï¸"},81:{description:"Ð¡Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð»Ð¸Ð²ÐµÐ½ÑŒ",icon:"â›ˆï¸"},82:{description:"ÐžÑ‡ÐµÐ½ÑŒ ÑÐ¸Ð»ÑŒÐ½Ñ‹Ð¹ Ð»Ð¸Ð²ÐµÐ½ÑŒ",icon:"â›ˆï¸"},95:{description:"Ð“Ñ€Ð¾Ð·Ð°",icon:"â›ˆï¸"},96:{description:"Ð“Ñ€Ð¾Ð·Ð° Ñ Ð³Ñ€Ð°Ð´Ð¾Ð¼",icon:"â›ˆï¸"}}[t]||{description:"ÐÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð¾",icon:"â“"}}function b(t,e){const n=e.current_weather,o=new Date().getHours(),i=L(n.weathercode);h.textContent=t.name,y.textContent=`${t.admin1?t.admin1+", ":""}${t.country}`,g.textContent=`${Math.round(n.temperature)}Â°C`,w.textContent=i.icon,f.textContent=i.description,E.textContent=`${Math.round(e.hourly.apparent_temperature[o])}Â°C`,v.textContent=`${e.hourly.relative_humidity_2m[o]||"N/A"}%`,I.textContent=`${Math.round(n.windspeed)} ÐºÐ¼/Ñ‡`,s(),a.classList.remove("hidden")}async function m(t){s(),l(!0);try{const e=await _(t),n=await C(e.latitude,e.longitude);b(e,n)}catch(e){console.error("ÐžÑˆÐ¸Ð±ÐºÐ°:",e),s(),u.classList.remove("hidden")}finally{l(!1)}}p.addEventListener("submit",function(t){t.preventDefault();const e=c.value.trim();e&&m(e)}),B.forEach(t=>{t.addEventListener("click",function(){const e=this.getAttribute("data-city");c.value=e,m(e)})}),c.focus()});
